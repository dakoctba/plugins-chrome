!function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=514)}({130:function(t,n,e){"use strict"},131:function(t,n,e){"use strict";function r(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var o=e(25),i=e.n(o),a=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},u=i.a.storage.local;n.a={get:function(t){return u.get(t).then(function(n){return n[t]})},set:function(t,n){return u.set(r({},t,n)).then(function(){return!0})},remove:function(t){return u.remove(t).then(function(){return!0})},clear:function(){return u.clear().then(function(){return!0})},addListener:function(t){i.a.storage.onChanged.addListener(function(n,e){var r=Object.keys(n).map(function(t){return a({},n[t],{key:t})});t(r)})}}},157:function(t,n,e){"use strict";e.d(n,"b",function(){return c}),e.d(n,"a",function(){return f});var r=e(158),o=e.n(r),i=e(25),a=e.n(i),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(t){var n=function(n){return n+"_"+t},e=function(t){var e=[],r=function(t,n){return t&&"object"===(void 0===t?"undefined":u(t))?(t.sender=n,t):t};return a.a.runtime.onMessage.addListener(function(t,n,r){return e.forEach(function(e){return e(t,n,r)}),!0}),o()({timeout:6e4,ask:function(e,r,o){a.a.tabs.sendMessage(t,{type:n("BG_ASK_CS"),uid:e,cmd:r,args:o})},onAnswer:function(t){e.push(function(e,o,i){e.type===n("CS_ANSWER_BG")&&t(e.uid,e.err,r(e.data,o))})},onAsk:function(t){e.push(function(e,o,i){e.type===n("CS_ASK_BG")&&t(e.uid,e.cmd,r(e.args,o))})},answer:function(e,r,o){a.a.tabs.sendMessage(t,{type:n("BG_ANSWER_CS"),uid:e,err:r,data:o})},destroy:function(){e=[]}})};return{ipcCs:function(){var t=[];return a.a.runtime.onMessage.addListener(function(n,e,r){return t.forEach(function(t){return t(n,e,r)}),!0}),o()({timeout:6e4,ask:function(t,e,r){a.a.runtime.sendMessage({type:n("CS_ASK_BG"),uid:t,cmd:e,args:r})},onAnswer:function(e){t.push(function(t,r,o){t.type===n("BG_ANSWER_CS")&&e(t.uid,t.err,t.data)})},onAsk:function(e){t.push(function(t,r,o){t.type===n("BG_ASK_CS")&&e(t.uid,t.cmd,t.args)})},answer:function(t,e,r){a.a.runtime.sendMessage({type:n("CS_ANSWER_BG"),uid:t,err:e,data:r})},destroy:function(){t=[]}})},ipcBg:e}},c=function(){var t=""+Math.floor(1e4*Math.random());if(a.a.extension.getURL)try{return a.a.runtime.sendMessage({type:"CONNECT",cuid:t}),s(t).ipcCs()}catch(t){}},f=function(t){a.a.runtime.onMessage.addListener(function(n,e){return"CONNECT"===n.type&&n.cuid&&t(e.tab.id,s(n.cuid).ipcBg(e.tab.id)),!0})}},158:function(t,n){function e(t){var n=t.ask,e=t.answer,i=t.timeout,a=t.onAnswer,u=t.onAsk,s=t.destroy,c={},f=[],l=function(t,n,e){f.push({uid:t,cmd:n,args:e})},d=l;i=i||5e3,a(function(t,n,e){if(t&&c[t]===r)return void delete c[t];if(t&&c[t]){var i=c[t][0],a=c[t][1];delete c[t],n?a(o(n)):i(e)}}),u(function(t,n,r){return setTimeout(function(){f&&f.find(function(n){return n.uid===t})&&e(t,new Error("ipcPromise: answer timeout "+i+' for cmd "'+n+'", args "'+r+'"'))},i),d===l?void l(t,n,r):new Promise(function(t,e){t(d(n,r))}).then(function(o){if(void 0===o)return l(t,n,r);e(t,null,o)},function(n){e(t,o(n),null)})});var h=function(t,e,o){var a="ipcp_"+1*new Date+"_"+Math.round(1e3*Math.random()),u=o||i;return setTimeout(function(){var n;c&&c[a]&&(n=c[a][1],c[a]=r,n(new Error("ipcPromise: onAsk timeout "+u+' for cmd "'+t+'", args "'+e+'"')))},u),n(a,t,e||[]),new Promise(function(t,n){c[a]=[t,n]})};return{ask:h,send:h,onAsk:function(t){d=t;var n=f.map(function(t){return new Promise(function(n,e){n(d(t.cmd,t.args))}).then(function(n){if(void 0!==n)return e(t.uid,null,n),t.uid},function(n){return e(t.uid,n,null),t.uid})});Promise.all(n).then(function(t){var n=!0,e=!1,r=void 0;try{for(var o,i=t[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var a=o.value;if(void 0!==a){var u=f.findIndex(function(t){return t.uid===a});f.splice(u,1)}}}catch(t){e=!0,r=t}finally{try{!n&&i.return&&i.return()}finally{if(e)throw r}}})},destroy:function(){s&&s(),n=null,e=null,a=null,u=null,f=null,Object.keys(c).forEach(function(t){var n=c[t],e=n[1];e&&e(new Error("IPC Promise has been Destroyed.")),delete c[t]})}}}var r=!1,o=function(t){return t instanceof Error?{isError:!0,name:t.name,message:t.message,stack:t.stack}:t};e.serialize=function(t){return{ask:function(n,e,r){return t.ask(n,JSON.stringify(e),r)},send:function(n,e,r){return t.send(n,JSON.stringify(e),r)},onAsk:function(n){return t.onAsk(function(t,e){return n(t,JSON.parse(e))})},destroy:t.destroy}},t.exports=e},159:function(t,n,e){"use strict";e.d(n,"b",function(){return i}),e.d(n,"a",function(){return a});var r=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},o="CS_MSG",i=function(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"*",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:500;return new Promise(function(a,u){if(!t||!t.postMessage)throw new Error("csPostMessage: targetWin is not a window",t);if(!n||!n.addEventListener||!n.removeEventListener)throw new Error("csPostMessage: myWin is not a window",n);var s=Math.random(),c=function t(e){if(e.data&&e.data.type===o&&e.data.secret===s){n.removeEventListener("message",t);var r=e.data,i=r.payload,c=r.error;if(c)return u(new Error(c));if(void 0!==i)return a(i);u(new Error("csPostMessage: No payload nor error found"))}};n.addEventListener("message",c),t.postMessage({type:"CS_MSG",secret:s,payload:e,isRequest:!0},r),setTimeout(function(){u(new Error("csPostMessage: timeout "+i+" ms"))},i)})},a=function(t,n){if(!t||!t.addEventListener||!t.removeEventListener)throw new Error("csOnMessage: not a window",t);var e=function(t){if(t&&t.data&&t.data.type===o&&t.data.isRequest&&t.data.secret){var e={type:o,secret:t.data.secret};new Promise(function(e,r){var o=void 0;try{o=n(t.data.payload,{source:t.source})}catch(t){r(t)}e(o)}).then(function(n){t.source.postMessage(r({},e,{payload:n}),"*")},function(n){t.source.postMessage(r({},e,{error:n.message}),"*")})}};return t.addEventListener("message",e),function(){return t.removeEventListener("message",e)}}},25:function(t,n,e){var r=function(){function t(t,n){var e=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();!function(){var n={toPromisify:{tabs:["create","sendMessage"],windows:["getCurrent"],runtime:["sendMessage"],notifications:["create"],contextMenus:["create"],"storage.local":["get","set"]},toCopy:{runtime:["onMessage"],storage:["onChanged"],browserAction:["setBadgeText","setBadgeBackgroundColor","onClicked"],webRequest:["onHeadersReceived"],extension:["getURL"]}},e="undefined"!=typeof chrome?function(t,n){var e=function(t,n,e,o){return Object.keys(e).reduce(function(n,i){var a=i.split("."),u=a.reduce(function(t,n){var e=t[0],r=t[1];return e[n]=e[n]||{},[e[n],r[n]]},[n,t]),s=r(u,2),c=s[0],f=s[1];return e[i].forEach(function(t){o(t,f,c)}),n},n)},o=function(t,n,e){n&&(e[t]=function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];return new Promise(function(e,o){var i=function(t){e(t)};n[t].apply(n,r.concat(i))})})},i=function(t,n,e){n&&(e[t]=n[t])};return[[t.toPromisify,o],[t.toCopy,i]].reduce(function(t,r){return e(n,t,r[0],r[1])},{})}(n,chrome):browser;t.exports=e}()},29:function(t,n,e){"use strict";function r(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function o(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}e.d(n,"a",function(){return a}),e.d(n,"f",function(){return u}),e.d(n,"g",function(){return d}),e.d(n,"d",function(){return h}),e.d(n,"c",function(){return v}),e.d(n,"e",function(){return p}),e.d(n,"b",function(){return y});var i=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},a=function(t,n){return new Promise(function(e,r){setTimeout(function(){try{e(t())}catch(t){r(t)}},n)})},u=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4,o=new Date,i=function i(){if(r&&new Date-o>=r)throw new Error("until: "+t+" expired!");var u=n(),s=u.pass,c=u.result;return s?Promise.resolve(c):a(i,e)};return new Promise(function(t,n){try{t(i())}catch(t){n(t)}})},s=function(t){var n=t.length,e=void 0;return(e=function(n,r){return function(){for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return i.length>=r?t.apply(null,n.concat(i)):e(n.concat(i),r-i.length)}})([],n)},c=function(t,n,e){for(var r=n,o=e.length-1;o>=0;o--)r=t(e[o],r);return r},f=function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];return c(function(t,n){return function(e){return t(n(e))}},function(t){return t},n)},l=(s(function(t,n){for(var e=[],r=0,o=n.length;r<o;r++)e.push(t(n[r]));return e}),s(function(t,n,e){return Array.isArray(e)?[].concat(o(e.slice(0,t)),[n(e[t])],o(e.slice(t+1))):i({},e,r({},t,n(e[t])))})),d=s(function(t,n,e){return f.apply(null,t.map(function(t){return l(t)}))(n)(e)}),h=s(function(t,n,e){return f.apply(null,t.map(function(t){return l(t)}))(function(){return n})(e)}),v=(s(function(t,n){return t.reduce(function(t,n){return t?t[n]:t},n)}),function(t,n){return t.reduce(function(t,e){return t[e]=n[e],t},{})}),p=function(){return 1*new Date+"."+Math.floor(1e7*Math.random()).toString(16)},y=function(t){return[].concat.apply([],t)}},514:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(74),o=e(25),i=e.n(o),a=e(515),u=e(516),s=e(159),c=e(157),f=e(29),l=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},d=function(){},h=[{name:"addfriend",config:{interval:5,maxToStop:10,status:"STOPPED"}},{name:"check",config:{interval:5,maxToStop:10,status:"STOPPED"}}],v={get:function(){return r.a.get("app_state")},set:function(t){return v.get().then(function(n){return r.a.set("app_state",l({},n,t))})}},p={panelIpc:null,onRequest:d,listMans:{},workers:{}},y=function(t){p=l({},p,t)},g=function(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e4;return new Promise(function(o,i){var a=document.createElement("iframe"),u=function(){return document.body.removeChild(a)};a.addEventListener("load",function(){Object(s.b)(a.contentWindow,window,{cmd:n,args:e},"*",r).then(o,i).catch(function(){}).then(u)}),a.src=t,document.body.appendChild(a)})},m=function(t,n){var e=p.onRequest(t,n);if(e)return e;switch(t){case"set_config":return v.set(n);default:throw new Error("Unsupported cmd, "+t)}};!function(){i.a.webRequest.onHeadersReceived.addListener(function(t){for(var n=t.responseHeaders,e=n.length-1;e>=0;e--)"x-frame-options"!==n[e].name.toLowerCase()&&"content-security-policy"!==n[e].name.toLowerCase()||n.splice(e,1);return{responseHeaders:n}},{urls:["https://www.facebook.com/*"]},["blocking","responseHeaders"])}(),function(){var t=null;Object(c.a)(function(n,e){y({panelIpc:e}),t&&t.destroy(),e.onAsk(m)}),i.a.browserAction.onClicked.addListener(function(t){i.a.tabs.create({active:!0,url:i.a.extension.getURL("/popup.html")})})}(),function(){var t=h.map(function(t){var n=function(n){return g(n.url,t.name,n.args).then(function(t){return e.updateItem(n.id,{result:t})},function(t){return e.updateItem(n.id,{result:{status:"error",message:t.message}})})},e=new a.a(t.name,t.config),r=new u.a(e,n);return e._ready().then(function(){r.setConfig(e.getConfig())}),r.on(u.a.EVENTS.START,function(t){var n=t.job;n&&(e.doing(n.id),e.setConfig({status:"WORKING"}))}),r.on(u.a.EVENTS.JOB_DONE,function(t){var n=t.job;e.done(n.id)}),r.on(u.a.EVENTS.STOP,function(n){e.setConfig({status:"STOPPED"});var r=e.next();r&&r.result&&"waiting"===r.result.status&&e.updateItem(r.id,{result:null}),n.job&&e.todo(n.job.id,{force:!1}),"MANUAL"!==n.reason&&i.a.notifications.create({type:"basic",iconUrl:"./logo.png",title:t.name+" stopped",message:"reason: "+n.reason})}),r.on(u.a.EVENTS.WAITING,function(t){e.updateItem(t.job.id,{result:l({status:"waiting"},Object(f.c)(["total","past","left"],t))})}),{name:t.name,worker:r,listMan:e}});y({offices:t,onRequest:function(n,e){for(var r=0,o=t.length;r<o;r++){var i=t[r];switch(n){case i.name+"_set_config":return i.worker.setConfig(e),i.listMan.setConfig(e);case i.name+"_set_list":return i.listMan.replace(e);case i.name+"_clear_list":return i.listMan.clear();case i.name+"_start":return i.worker.start(),!0;case i.name+"_stop":return i.worker.stop()}}return!1}})}(),function(){i.a.contextMenus.create({type:"normal",contexts:["page"],title:"Extract urls of friends",documentUrlPatterns:["https://www.facebook.com/*"],onclick:function(t,n){return i.a.tabs.sendMessage(n.id,{type:"EXTRACT_FRIENDS_URL"})}})}()},515:function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var o=e(74),i=e(29),a=function(){function t(t,n){var e=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},s=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),c={TODO:"TODO",DOING:"DOING",DONE:"DONE"},f=function(){function t(n,e){var o=this;r(this,t),this.state={cache:{list:[],config:{}},isReady:!1},this.name=n,this._restore().then(function(){e&&o.setConfig(u({},e,o.state.cache.config))})}return s(t,[{key:"next",value:function(){return this.state.cache.list.find(function(t){return t.status===c.TODO})}},{key:"clear",value:function(){var t=this;return this._ready().then(function(){return t._setState(Object(i.d)(["cache","list"],[],t.state)),t._saveList()})}},{key:"add",value:function(t){var n=this;return this._ready().then(function(){return n._setState(Object(i.g)(["cache","list"],function(n){return n.concat(t.map(function(t){return u({},t,{status:c.TODO,id:Object(i.e)()})}))},n.state)),n._saveList()})}},{key:"replace",value:function(t){var n=this;return this._ready().then(function(){return n._setState(Object(i.d)(["cache","list"],t.map(function(t){return u({},t,{status:c.TODO,id:Object(i.e)()})}),n.state)),n._saveList()})}},{key:"updateItem",value:function(t,n){var e=this;return this._ready().then(function(){var r=void 0;return e._setState(Object(i.g)(["cache","list"],function(e){var o=e.findIndex(function(n){return n.id===t});return-1===o?e:(r=u({},e[o],n),Object(i.d)([o],r,e))},e.state)),e._saveList().then(function(){return r})})}},{key:"done",value:function(t){return this.updateItem(t,{status:c.DONE})}},{key:"doing",value:function(t){return this.updateItem(t,{status:c.DOING})}},{key:"todo",value:function(t,n){var e=this,r=function(){return e.updateItem(t,{status:c.TODO})};return!n||n.force?r():this.state.cache.list.find(function(n){return n.id===t}).status!==c.DONE?r():void 0}},{key:"setConfig",value:function(t){var n=this;return this._ready().then(function(){return n._setState(Object(i.g)(["cache","config"],function(n){return u({},n,t)},n.state)),o.a.set(n._configKey(),n.state.cache.config).then(function(){return n.state.cache.config})})}},{key:"getConfig",value:function(){return u({},this.state.cache.config)}},{key:"_setState",value:function(t){this.state=u({},this.state,t)}},{key:"_saveList",value:function(){var t=this;return o.a.set(this._listKey(),this.state.cache.list).then(function(){return t.state.cache.list})}},{key:"_ready",value:function(){var t=this;return Object(i.f)("list ready",function(){return{pass:t.state.isReady}})}},{key:"_listKey",value:function(){return this.name+"_list"}},{key:"_configKey",value:function(){return this.name+"_config"}},{key:"_restore",value:function(){var t=this,n=function(t){return t.status===c.DOING&&(t.status=c.TODO),t.result&&"waiting"===t.result.status&&(t.result=null),t};return Promise.all([o.a.get(this._listKey()),o.a.get(this._configKey())]).then(function(e){var r=a(e,2),o=r[0],s=r[1];return t._setState(Object(i.g)(["cache"],function(t){return u({},t,{list:(o||[]).map(n),config:s||{}})},t.state)),t._saveList().then(function(){t._setState({isReady:!0})})})}}]),t}();f.STATUS=c,n.a=f},516:function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var o=e(29),i=e(517),a=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},u=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),s=function(){},c={START:"START",STOP:"STOP",WAITING:"WAITING",JOB_DONE:"JOB_DONE"},f={NEED_REST:"NEED_REST",DRAINED:"DRAINED",MANUAL:"MANUAL"},l=function(){function t(n,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,t),this.state={status:c.STOP,currentJob:null,totalJobsDone:0,jobsDone:0,secret:0},this.source=n,this.config=a({interval:5,maxToStop:10},o),this._workFn=e,Object(i.a)(this)}return u(t,[{key:"setConfig",value:function(t){this.config=a({},this.config,t)}},{key:"start",value:function(t){var n=this;if(t&&this.state.status===c.STOP)return!0;t||this._setState({secret:this.state.secret+1,status:c.START});var e=this.source.next();return this._setState({currentJob:e}),this.emit(c.START,{job:this.state.currentJob}),e?this._work(e).then(function(t){return n._jobDone(t)}).then(function(){return Object(o.a)(s,10)}).then(function(){return n._needRest()}).then(function(){return n._wait()}).then(function(){return n.start(!0)}).catch(function(t){}):(this._setState({status:c.STOP}),void this.emit(c.STOP,{reason:f.DRAINED,job:this.state.currentJob}))}},{key:"stop",value:function(){return this._setState({status:c.STOP,jobsDone:0}),this.emit(c.STOP,{reason:f.MANUAL,job:this.state.currentJob}),!0}},{key:"_setState",value:function(t){this.state=a({},this.state,t)}},{key:"_work",value:function(t){var n=this.state.secret;return this._workFn(t).then(function(){return n})}},{key:"_jobDone",value:function(t){if(this.state.status===c.STOP)throw new Error("already stopped");if(t!==this.state.secret)throw new Error("secret expired");this._setState({totalJobsDone:this.state.totalJobsDone+1,jobsDone:this.state.jobsDone+1}),this.emit(c.JOB_DONE,a({job:this.state.currentJob},Object(o.c)(["jobsDone","totalJobsDone"],this.state)))}},{key:"_needRest",value:function(){if(this.state.jobsDone>=this.config.maxToStop)throw this.emit(c.STOP,a({reason:f.NEED_REST,job:this.state.currentJob},Object(o.c)(["jobsDone","totalJobsDone"],this.state))),this._setState({jobsDone:0,status:c.STOP}),new Error("Stopped, need rest")}},{key:"_wait",value:function(){var t=this,n=this.config.interval,e=0,r=setInterval(function(){if(t.state.status===c.STOP)return clearInterval(r);e+=1e3;var o=t.source.next();o&&t.emit(c.WAITING,{job:o,past:e,left:6e4*n-e,total:6e4*n}),e>=6e4*n&&clearInterval(r)},1e3);return Object(o.a)(s,6e4*n)}}]),t}();a(l,{EVENTS:c,STOP_REASONS:f}),n.a=l},517:function(t,n,e){"use strict";var r=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},o=function(t){var n=t||{},e={},o=function(t,n,r){var o=function(t,n){return function(){if(e[t]){var r=e[t].indexOf(n());e[t].splice(r,1)}}}(t,function(){return n});return r&&(n=function(t,n){return function(){var e=[].slice.apply(arguments);t.apply(null,e),n()}}(n,o)),e[t]=e[t]||[],e[t].push(n),o},i=function(t){e[t]=[]},a=function(t,n){e[t]&&e[t].forEach(function(t){t(n)})};return r(n,{on:function(t,n){return o(t,n)},off:function(t){return i(t)},once:function(t,n){return o(t,n,!0)},emit:function(t,n){return a(t,n)}})};n.a=o},74:function(t,n,e){"use strict";var r=(e(130),e(131));n.a=r.a}});